






name: kasplat

C:
  - K: 'mess'
    #Gw: 1 # TODO cannot handle?
    print: |
        "m S.m".
        ghostlyprinty($thing);
hooks:
  
  
  fresh_init: |
    H._future = 1;
    G.trigs = [];
    G.populi.max = 10;
  Arr: |
    my $S = 0->TB(mess => {thing => $thing, what => $what});
    S.m = $what;
    S.Flab = $G->Flab($S);
    
    $_->($S) for @{G.trigs};
    
    if (S.m =~ /^(Ambientness|Vitals)$/) { 
        $_ ne $S && 0->del($_) for 0->rei({qw'K mess m', $1})
    }
    
    my $s = G.W.script;
    shift @$s until @$s <= 10;
    
    sayyl "ut ".$S->pi
        #join"  ", map {gpty($_)} flatline($thing)
            unless @{G.trigs};
    
    return "yep" if $what eq "In"."fo" && $thing->[0] =~ /^keypress/;
    return 'yep' if $what !~ /^(s(a)y|i(n)fo|e(r)ror)$/i;
    return;

