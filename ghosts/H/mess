






name: kasplat
tractors:
  - K: 'mess'
    arr_if: |
      $thing && $what
    first_time: |
      $S->{crawlWS} = []
    crawl: |
      $O->Gf('crawl')->RW;
      $O->Gf('crawl')->W->{script} = $S->{crawlWS};
      $O->Gf('crawl')->T($thing);
      
    print: |
      $S->{K} .": ". $S->{B}->{thing}
hooks:
  fresh_init: |
    $G->Gc("T/crawl");
    die;
    G crawl ->T("hello");
    say "wormhole now ".G crawl ->W->describe_size();
  throwlog: |
    my $S = Arr[$thing, $what];
    w $S crawl;
    my $s = $G->stackway("Throw $what", @$thing);
    
    $G->timer(0.1, sub {
      $L->w(somewhere => {thing => $s});
      my $b = $s;
      $s = $G->stackway($s);
      $s->{Scondoto} = $b;
      $G->timer(3, sub {
          $L->w(somewhere => {thing => $s})
      }); 
    }); 
    
  event: |
    #w throwlog(Event => $e);
    if (eval { $ar->{e}->[1]->{C} }) {
        my $id = $ar->{e}->[1]->{id};
        $H->JS("\$('#$id').empty();");
    }
    if (eval { $ar->{e}->[1]->{S} }) {
        my $id = $ar->{e}->[1]->{id};
        $H->JS("\$('#mess').toggleClass('inface');");
    }
    

