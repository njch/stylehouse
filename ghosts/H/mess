






name: kasplat

C:
  - K: 'mess'
    populi:
      max: 10
    first_time: |
      S.K="m$what";
      S.Flab = $G->Flab($S);
    wheresplain: |
      $S->{waystack} ? w $S->{waystack} wheresplain : "";
    print: |
      join " ", $S->{K}, ghostlyprinty($thing);
hooks:
  fresh_init: |
    H._future = 1;
    G.trigs = [];
  atrig: |
    push @{G.trigs}, $D;
  mess: |
    my $S = 0->TafuB(mess => [thing => $thing, what => $what, a => rand().$H->hitime]);
    w $S first_time;
    
    $_->($S) for @{G.trigs};
    
    return "yep" if $what eq "Info" && $thing->[0] =~ /^keypress/;
    return 'yep' if $what !~ /^(say|info|error)$/i;

