






name: kasplat
tractors:
  - K: 'key'
    max_populi: 10
    arr_if: |
      $e && $e->{k}
    B_: |
      $e
    print: |
      "key $key"
hooks:
  first_init: |
    $H->JS("\$(window).on('keyup', keyhand);");
  arr: |
    my $e = $event;
    my $S = Arr[$e];

    my $k = $S->{B}->{key} = lc($e->{k}) unless $e->{S};
    my $t = $G->{trig};
    $t->{$k} && $t->{$k}->($S);
    
    Info "klogged", $S;
    
  event: |
    #w throwlog(Event => $e);
    if (eval { $ar->{e}->[1]->{C} }) {
        my $id = $ar->{e}->[1]->{id};
        $H->JS("\$('#$id').empty();");
    }
    if (eval { $ar->{e}->[1]->{S} }) {
        my $id = $ar->{e}->[1]->{id};
        $H->JS("\$('#mess').toggleClass('inface');");
    }
    

