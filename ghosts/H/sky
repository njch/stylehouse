
name: the sky
hooks:
  V:
    sky:
      styles: sky
  styles:
    sky: |
      "height:$O->{horizon}",
      qw{background:#00248F width:100%
      position:absolute top:0px left:0px z-index:3
      }
  fresh_init: |
    # w< ...etc?
    $G->{cg} = sub {
        $G->{gcol} ||= $H->{G}->Gf("colour") || die;
        $G->Tw($G->{gcol}, shift, {name => "#sky", @_});
    };
    $G->{cg}->("arr", set_css_background => "#sky");
    $H->{sky} = G.V.sky || die;
    w ambientness;
  doof: |
    $ar->{t} ||= 0.1;
    #$ar->{c} ||= '333';
    w colourchange;
    waylay 0.3 touch(t=>500);
  ambientness: |
    $G->susgdb;
    my $c = w colourchange(t=>5);
    throwlog( Ambientness => $c );
    waylay 22 ambientness;
  colourchange: |
    $ar->{t} ||= 5;
    $ar->{change} = 1;
    $G->{cg}->("arr", %$ar);
  getundercontrol: |
    $H->JS("\$('#mess').toggleClass('widdle').animate({'max-width': '26%'});");
  event: |
    w getundercontrol if $e->{C};
    w touch;
  touch: |
    $ar->{t} ||= 0.3;
    w colourchange;

