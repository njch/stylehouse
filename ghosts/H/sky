
name: the sky
hooks:

  styles:
    sky: |
      qw{background:rgba(32, 24, 39, 0.9) width:100% height:100%
      position:absolute top:0px left:0px z-index:3
      }
  fresh_init: |
    $G->_0('V/spawn' =>
        {name=>'sky', styles => 'sky'}
    );
    H.sky = G.V.sky || die "There is no sky";
    w changesky;
    
    w ambientness;
  changesky: |
    G:colour->w(Arr => {name => "#sky", %$ar, change => 1});
  doof: |
    $ar->{t} ||= 0.1;
    #$ar->{c} ||= '333';
    w colourchange;
    waylay 0.3 touch(t=>500);
  ambientness: |
    $G->susgdb;
    my $c = w colourchange(t=>5);
    w light;
    $G->mess(Ambientness => $c);
  light: |
    # some angles
  colourchange: |
    $ar->{t} ||= 5;
    $ar->{change} = 1;
    w changesky;
  getundercontrol: |
    $H->JS("\$('#mess').toggleClass('widdle').animate({'max-width': '26%'});");
  event: |
    w getundercontrol if $e->{C};
    w touch;
  touch: |
    $ar->{t} ||= 0.3;
    w colourchange;

