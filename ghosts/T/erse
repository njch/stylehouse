name: wormhole surfer
chains:
 - K: Wormherse #c
   arr_if: |
     $G->{depth} == 0 && ref $thing eq "Wormhole";
   B_: |
     $thing
   foreach_travel:
     each: grep { $_->{depth} == 0 } @{$thing->{script}}
   print: |
        $S->{i}
 
 - K: Linerse
   arr_if: |
     ($G->{i}->{K} eq "Wormherse"
     || $G->{i}->{K} eq "Linerse")
     && ref $thing eq "HASH"
     && ref $thing->{o} eq "ARRAY"
   print: |
        $S->BLo->{i}->pint
   foreach_travel:
     each: grep { defined $_ } map { $_->{B}->{Li} } @{$thing->{o}};
dials:
hooks:
  aft_arr: |
    my $yL = $thing;
    if ($G->{i}->{K} eq "Line") {
        $G->{depth} = $yL->{depth}; # just for vis...
    }
    $G->susgdb;
    Say join("",("    ")x$thing->{depth})
        ." ERSE(".pint($G->{i}).")\nYLE(".pint($yL->{i}).")\n"
        
        ." ".gpty($yL->{t});
        
        
        
        
    1;
  max_depth: 1

