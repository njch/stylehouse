name: ghost data structure crawl
include: T/ravel
chains:
 - K: 'HASH'#c
   k: ''
   arr_if: |
     ref $thing eq 'HASH'
   foreach_travel:
     each: sort keys %$thing
     next_thing: $thing->{$each}
   print: |
     "{".$S->{each}
        
 - K: 'HASHish'
   k: ''
   arr_if: |
     ref $thing && "$thing" =~ /=HASH/
   foreach_travel:
     each: |
       sort keys %$thing;
     next_thing: $thing->{$each}
   print: |
     "{".$S->{each}
     
 - K: 'ARRAY'
   k: ''
   arr_if: ref $thing eq 'ARRAY'
   foreach_travel:
     each: @$thing
   print: |
        $S->{i}
        
dials:
  max_depth: 1
hooks:
  crawl: |
    my $depth = ar.depth || 0;
    my $i = ar.i || $F[0];
    my $t = ar.t || undef;
    0->T({i=>$i, t=>$t, depth=>$depth});

