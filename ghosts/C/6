
R_surs:

    pi: #c
      wtf: | #c
        a.bz->('know 0.1', "$u");
      ARRAY: | #c
            my $cv = a.cv ||= 0.3;
            
            my $si = @$u;
            a.bz->('si 0.1' => $si, '%css' => "color:#fff;font-size:50%");
            a.bz->('Bo 0.1 0.11' => '[');
            a.bz->('oB 0.1 0.9' => ']');
            
            return if $cv < 0.2;
            
            my $ki = 0;
            my $i = 0;
            while (exists $u->[$i]) {
                my $uu = $u->[$i];
                if ($ki > 0) {
                    $ki++;
                    a.bb->{"[${ki}_Bs 0.2"} = ',';
                    $ki++;
                }
                
                my $vcv = a.cv - 0.2; # dus bend for $k
                $vcv = 0.1 if $vcv < 0.1;
                if (1) {
                    a.fro->("[${ki}_v 0.2", $uu, $vcv,
                    
                        "%css" => "font-size:75%");
                    $ki++;
                }
                
                $i++;
                if ($i >= 5) {
                    a.bz->("more 0.2 0.886" => "@",
                    
                        '%sf' => "blue");
                    last;
                }
            }
      HASH: | #c
            my $cv = a.cv ||= 0.3;
            
            my $si = keys %$u;
            a.bz->('si 0.1' => $si, 'si%css 0.1' => "color:#fff;font-size:50%");
            
            a.bz->("Bo 0.1 0.11" => '{');
            a.bz->('oB 0.1 0.9' => '}');
            
            return if $cv < 0.2;
            
            # 3
            my $r = {map{$_=>1} sort keys %$u};
            my @r = grep { delete $r->{$_} } qw'K name';
            push @r, sort keys %$r;
            
            my $ki = 0;
            my $i = 0;
            for my $k (@r) {
                my $v = $u->{$k};
                
                if ($ki > 0) {
                    $ki++;
                    a.bb->{"[${ki}_Bs 0.2"} = ',';
                    $ki++;
                }
                a.bz->("[${ki}_k 0.2" => $k,
                    
                    "\%css" => "color:#acf;font-size:80%");
                    
                    
                my $keyi = $ki;
                $ki++;
                my $vcv = a.cv - 0.2; # dus bend for $k
                
                if ($vcv >= 0.2) {
                
                    a.bz->("[${ki}_Bi 0.2" => ':');
                    
                    $ki++;
                    
                    a.fro->("[${ki}_v 0.2" => $v, $vcv,
                        '%css' => "font-size:75%");

                }
                
                $i++;
                if ($i >= 5) {
                    a.bz->("more 0.2 0.886" => "@",
                    
                        '%sf' => "blue");
                    last;
                }
            }
      HASH2: | #c
            my $cv = a.cv ||= 0.3;
            
            my $si = keys %$u;
            a.bz->('si 0.1' => $si, 'si%css 0.1' => "color:#fff;font-size:50%");
            
            a.bz->("B:Bo 0.1 0.11" => '{');
            a.bz->('B:oB 0.1 0.9' => '}');
            
            return if $cv < 0.2;
            
            # 3
            my $r = {map{$_=>1} keys %$u};
            my @r = grep { delete $r->{$_} } qw'K name';
            push @r, sort keys %$r;
            
            my $ki = 0;
            my $i = 0;
            a.bz->('B:Bs 0.2', ',');
            a.bz->('B:Bi 0.3', ':');
            
            for my $k (@r) {
                my $v = $u->{$k};
                $i++;
                if ($i >= 5) {
                    a.bz->("more 0.2 0.886" => "@", '%sf' => "blue");
                    last;
                }
                
                my $ii = sprintf('%04d', $i);
                
                a.bz->('B/'.$ii.'/k 0.2', $k,
                
                    '%css' => 'color:#acf;font-size:80%');
                
                
                my $vcv = a.cv - 0.2; # dus bend for $k
                if ($vcv >= 0.2) {
                    a.fro->('B/'.$ii.'/v 0.3', $v, $vcv,

                        '%css' => 'font-size:75%');
                }
            }
      ref: | #c weird ref
        a.bz->('knowref 0.1', ">?$u");
      code: | #c
        a.bz->('know 0.1', "CODE");
      undef: | #c
        a.bz->('know 0.1', '~');
      text: | #c
            my $text = $u;
            
            my @s;
            my $adhow = $text =~ s/\n/↯/g;
            
            my $tev = int(a.cv * 200); # 0.4 = 100
            
            my $si = length($text);
            if (!$si) {
                a.bz->('length 0.1', "''", '%sf', 'blue');
            }
            if ($si > $tev) {
                $text = ($text=~/^(.{$tev})/s)[0];
            }
            else {
                undef $si;
            }
            
            a.bz->('line 0.1' => $text,
                '%css' => "background:rgba(200,30,80,0.3);color:#3f3;"
                    ."font-size:70%");
            
            
            if ($si) {
                a.bz->("#more 0.9" => "@",

                    "%sf" => "blue");
            }
            
            return if a.cv < 0.2;
            
            my $ni = a.c.lin if a.c.lin > 1;
            my $bi = a.c.b if a.c.b > 1;
            
                a.bz->("si/l 0.2" => "$si",
                    '%css' => "color:#b89;font-size:50%;position:absolute") if $si;
                a.bz->('si/n 0.2' => "$ni",
                    '%css' =>
                        "color:#fff;font-size:50%;"
                        ."position:absolute;margin-top:1.4em;") if $ni;
                a.bz->('si/b 0.2' => "b$bi",
                    '%css' =>
                        "color:#f89;font-size:50%;"
                        ."float:left;left:-1em") if $bi;
                   
            if (a.cv < 0.7 && $text =~ /^(# \d.+?)↯/) {
                a.bz->('line 0.1' => $1,
                '%css' => "background:rgba(200,30,80,0.3);color:#3f3;"
                    ."font-size:70%");
            }
            return if a.cv < 0.7;
            # 7
            my $s = $G->vimcolor($u);
            
            my @old = split /\n/, $s;
            my @new = @old;
            my $com;
            if (a.cv >= 0.7 && a.cv < 0.8) {
                my $sens = (a.cv - 0.7) * 10;
                my $cu = int($sens * 10 * 3);
                my $i = 1;
                @new = ();
                push @new, shift @old;
                for (@old) {
                    
                    push @new, $_ if @new < $cu && (/^#/ || /R\./ || /\-\>/ || /w\ /);
                    $i++;
                }
                my $more = $i - @new;
                $com = $more ? "$more@" : "";
            }
            #$col = join "\n", ()[0], '' if a.cv < 0.8;
            $s = join "\n", @new;
            $com = "  $com";
            $s =~ s/^(<span) (class="synComment">.+?)(<\/span>)/$1 style="font-size:170%;" $2$com$3/;
            
            
            my $lim = ";height:19em;overflow-y:scroll" if @new > 19;
            $lim .= ";background:rgba(70,40,0,1);" if a.cv >= 0.8;
            
            a.bz->("line 0.1" => $s, '%tag'=>'pre','%gp'=>{vimcolor=>1},
                '%css' => "margin:0.2em;background:rgba(30,30,60,1);font-size:50%;-webkit-filter:hue-rotate(80deg);$lim");
      A: | #c
        my $cv = a.cv ||= 0.3;
        a.bb->{"thi 0.01"} = ref $u;
        return if $cv < 0.1;
        a.bb->{"name 0.1"} = u.name;
        return if $cv < 0.2;
        a.bb->{"K 0.2"} = u.K;
        
        a.fro->('i 0.2', A.i, 0.2);
        
        return if $cv < 0.3;
        
        my $un;
        for my $nuk (keys %$A) {
            next if $nuk !~ /^(u|n)/;
            my $v = $A->{$nuk};
            my $tot = ref $v eq "ARRAY" ? @$v : $v;
            $un->{$1}->{$nuk} = $tot;
            my $lv = $1 eq "u" ? 1 : 2;
            
            a.bz->("un/$1/${nuk}_nuk 0.3$lv", "$nuk:",
                    
                    "\%css" => "color:#acf;font-size:80%");
            
            a.fro->("un/$1/${nuk}_t 0.3$lv", $tot, 0.2,
                    
                    "\%css" => "color:#fca;font-size:80%");
        }
        
      G: | #c
        my $cv = a.cv ||= 0.3;
        a.bb->{"thi 0.01"} = ref $u;
        return if $cv < 0.1;
        a.bb->{"name 0.1"} = u.name;
        a.bb->{"K 0.2"} = u.K;
        return if $cv < 0.2;
        
      T: | #c
        a.bz->('pi 0.1', $u->pi);
      J: | #c
        my $cv = a.cv ||= 0.3;
        a.bb->{"thi 0.01"} = ref $u;
        return if $cv < 0.1;
        a.bb->{"name 0.1"} = $H->ejson(u.B) if u.B;
        return if $cv < 0.2;
        a.fro->('i 0.2', $u, 0.1);
        return if $cv < 0.3;
        # 3
          my $bits = do {
              my $a = {u=>$u, wa=>'up'};
              w $R gp[$u, $a];
              a.bb
          };
          a.bb->{'bit/'.$_} = $bits->{$_} for keys %$bits;
        
      up: | #c
            my $r = {map{$_=>1} sort keys %$u};
            
            my $ordy = {
                A => 1,
                id => 11,
                K => 12,
                name => 13,
                G => 14,
                R => 14,
                W => 2,
            };
            my $ydro = {};
            push @{$ydro->{$_}||=[]}, $_ for keys %$ordy;
            my @order = map { @{$ydro->{$_}} } sort keys %$ydro;
            
            my @r = grep { delete $r->{$_} } @order;
            push @r, sort keys %$r;
            
            my $ki = 0;
            my $i = 0;
            for my $k (@r) {
                my $v = $u->{$k};
                
                my $ord = $ordy->{$k} || 4;
                a.bb->{"$k\t".'0.'.$ord} = ''.$v;
                
                $i++;
            }
      H: | #c
        a.bz->('thi 0.01' => 'H');
        a.bz->("name 0.06" => H.style,
            '%css' => "color:white;font-size:120%;margin-left:-1.5em;position:absolute;");
        a.bz->("K 0.1" => H.name,
            '%css' => "color:black;font-size:120%;margin-left:-0.67em;position:absolute;");
        
      R: | #c
        my $cv = a.cv ||= 0.3;
        a.bb->{"thi 0.01"} = ref $u;
        return if $cv < 0.1;
        a.bb->{"name 0.1"} = u.name;
        return if $cv < 0.2; 
        a.bb->{"K 0.2"} = u.K;
        
      C: | #c
        my $cv = a.cv ||= 0.3;
        a.bb = {};
        a.bb->{"thi 0"} = ref $u;
        return if $cv < 0.1;
        a.bb->{"name 0.1"} = u.name;
        
        return if $cv < 0.2;
        
        a.bb->{"K 0.2"} = u.K;
        a.bb->{"K%css 0.2"} = "color:#3f3";
        
        if (C.B && C.B.name) {
            a.bz->("B_name 0.2", C.B.name, '%css' => "color:#3f3"); 
        }
        
        return if $cv < 0.3;
        
        if (C.G && (defined C.print || C.Gw)) {
            my $p = C.G->w('print' => {}, $C, {nodie=>1});
            a.bb->{"print 0.3"} = $p if defined $p;
        }
        
        # dusseldorf
        my %s = map { $_=>1 } grep { /^[a-z]/ } keys %$C;
        delete $s{id};
        my @or = qw'name point timer', keys %s; 
        
        my $c; 
        my $b; 
        for my $k (@or) {
            next if !defined $k;
            next if !exists $C->{$k};
            my $t = $C->{$k};
            next if !defined $t;
            next if ref $t;
            next if $t =~ /\n/; 
            my $slim = slim(20,20,$t);
            
            a.bb->{"$k 0.4"} = $slim if $cv >= 0.4; # also a dus fuzz away
        }
        
        if (C.B && %{C.B}) {
            a.fro->('B 0.3', C.B, 0.2);
        }

