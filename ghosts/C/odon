name: code
include: T/ravel T/braid
chains:
 - K: 'stylefile'#c
   Ki: 'styledir'
   arr_if: |
     -d "$thing/lib" && -d "$thing/ghosts"
   foreach_travel:
     glob: |
       "$thing/style*", "$thing/not"
     find_files: |
       #"$thing/lib",
       "$thing/ghosts"
     grep: |
         !/T|H/
     
 - K: 'ghost'
   Ki: 'stylefile'
   arr_if: |
     $thing =~ /ghosts\//;
    
 - K: 'yaml'
   arr_if: |
     -f $thing && $thing =~ /odon/;
   foreach_travel:
     each: Way::load_yaml($thing);
dials:
  max_depth: 3
hooks:
  event: |
    my $Ei = L.i.K .' y '. uyL.i.B.K;
    die "nonU " unless G.U;
    #die wdump(2,G.ways);
    if ($Ei eq "stylefile y t") {
        my $u = G.U.ul->( 
            u => G.U.mku->(Codon => {
                stylefile=>uyL.i.B.t,
            }),
            p => $L,
        );
        G.ux->w('ux', {Ls=>$G->W->CS});
        $Ly->w(somewhere => {thing => [L.i, uyL.i, $Ei, $u]});
    }
    if ($Ei eq "stylefile y w") {
        L.t.="bahlah";
        Say "Cahgned L.t";
    }
    if ($Ei =~ /^Codon/) {
        $Ly->w(somewhere => {thing => [L.i, uxL.i, uyL.i]});
        }
    
  uxd: |
    #G.ux->RW;
    G.ux->w('ux', {Ls=>$G->W->CS});
  ways:
    Codon:
      K: Codon
    
  events:
    - K: Codon
      Ei: stylefile y t
      uxL:
          Bn: t
        
  
  Earr: |
    # scan events etc.
  

