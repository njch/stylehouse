
Foli: | # non driven trevil
    u allvse
    n '','','%of:J'
    n J =>6211211,<<''
        my $x = A.J.pix || J.mo.J.pix || return;
        Rw Foldout $x $A $C $J $T $y:J.oy;
Foldout: |
        my @m = ref $x eq 'ARRAY' ? @$x : $x;
        for my $x (@m) {
            if (x.pi ? C.c.pi eq x.pi : 
                x.any ? 1 :
                0) {
                saybl "matched: J.name ::: ".ki $x;
                
                x.u &&
                u x.u
                
                C.c.pi = C.sc.pi = x.pito if x.pito;
                
                x.Rw &&
                    Rw x.Rw;
            }
            # up!
        }
jeocling: | # give isle
    J.pix = [{any=>1,Rw=>'jeocling'}];
    saybl "On J.name from A.J.name: ".ki A.J.at;
    u jseo
    u trWs
    y.at.isle = 'jes';
trWs: |
    u allvse
    n '','','%of:Mo'
    n W =>3211,<<''
        unless (A.J.C.sc.pi eq 'trW') {
            C.c.s = delete C.c.W;
            C.c.pi = 'trW';
        }
    
pi/trW: | # uses localeo
    my $isle = J.mo.J.at.isle;
    $isle || die "No isledea !? J.name of J.mo.J.name";
    my $f = "w/$isle/$s";
    say "J.name:   J.mo.J.name eq A.J.name";
    my $Jd = "w/$isle/J/J.mo.J.name";
    `mkdir -p $Jd` if !-d $Jd;
    my $traveli;
    for (glob"$Jd/$s") {
        next unless -s $_;
        $traveli = read_file($_);
        saybl "Travel from $_: ".wdump 3,[
            $traveli
        ];
    }
    #`rm $f`;
    if (!$traveli && -f $f) {
        say "Found $f !";
        n $f =>3,$s,{X=>LoadFile($f)}
        `touch $Jd/$s` && sayre "Xuper $f" if !-f "$Jd/$s";
    }
    else {
        say "Making  $s !";
        n $s=>W
        `cat /dev/null > $Jd/$s`;
    }
    saybl "Donel  $Jd  $s";
    
Sweep: |
    n stylesweep
stylesweep: |
    u alljse
    n hs =>44,<<''
        $.each(s.thy,function(k,v){
            C.sc[k] and C.sc.css[v] = C.sc[k];
        });
        $.each(s.roi,function(k,v){
            var o = C.sc.css[k];
            !o and return;
            var ve = v[0];
            var ss = v[1];
            C.sc.css[ve] ||= {};
            C.sc.css[ve][ss] = o;
            delete C.sc.css[k];
        });

